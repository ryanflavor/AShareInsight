# **7. 错误处理与日志记录策略**

  * **API层**: 使用FastAPI的**全局异常处理器**，将所有内部错误转化为标准化的JSON错误响应（包含`code`, `message`, `request_id`）。
  * **数据管道层**: 采用\*\*“死信队列”\*\*模式，将处理失败的文档隔离，确保管道主体流程的持续运行。
  * **日志记录**: 所有日志以**结构化的JSON格式**输出，并包含丰富的上下文信息。

-----
